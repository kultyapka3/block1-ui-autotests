## Тесты

Этот репозиторий содержит проект автоматизированных UI-тестов.

---

## Технологии

*   **Язык программирования:** Python 3.10+
*   **Фреймворк для UI-тестов:** Selenium WebDriver
*   **Браузер (UI):** Chrome (управление драйвером через `webdriver-manager`)
*   **Тестовый фреймворк:** pytest
*   **Сборка зависимостей:** pip (файл `requirements.txt`)
*   **Отчеты:** Allure
*   **CI/CD:** GitHub Actions

---

## Структура проекта

```
project_root/
├── README.md                         # Этот файл
├── .gitignore                        # Файл управления Git
├── requirements.txt                  # Список зависимостей Python
├── pytest.ini                        # Конфигурация pytest
├── conftest.py                       # Фикстуры pytest
├── data/                             # Папка с данными (конфигурации)
├── pages/                            # Папка для POM
│   ├── __init__.py
├── tests/                            # Папка с тестами
│   ├── __init__.py            
└── utils/                            # Папка для вспомогательных функций
    ├── __init__.py

```

---

## Установка и запуск

### Виртуальное окружение

1.  Создайте виртуальное окружение:
    ```bash
    python -m venv venv
    ```
    
2.  Активируйте его:
    *   **Windows:**
        ```bash
        venv\Scripts\activate
        ```
    *   **macOS/Linux:**
        ```bash
        source venv/bin/activate
        ```

### Установка зависимостей

После активации виртуального окружения установите зависимости из файла `requirements.txt`:

```bash
pip install -r requirements.txt
```

---

## Запуск тестов

- Для запуска всех тестов используйте команду `pytest`:

    ```bash
    pytest
    ```

- Для более подробного вывода:

    ```bash
    pytest -v
    ```

- Параллельный запуск тестов:

    ```bash
    pytest -m ui -n 5
    ```

---

## Генерация отчета Allure

1. Запустите тесты, указав директорию для результатов Allure:

    ```bash
    pytest --alluredir=./allure_results
    ```
   
2. Сгенерируйте и откройте HTML-отчет:

    ```bash
    allure serve allure_results
    ```

---

## U1. Тест-кейсы

### Тест-кейс №01. Отображение хедера с контактной информацией на главной странице

- **Предусловие**:
  1. Открыть браузер

- **Шаги**:
  1. Перейти на главную страницу: https://www.way2automation.com/

- **Ожидаемый результат**: 
  1. Отображается хедер с контактной информацией (`номера телефонов`, `Skype`, `почта`, `социальные сети`)

- **Постусловие**: 
  1. Закрыть браузер

### Тест-кейс №02. Фиксация меню навигации при прокрутке страницы

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.way2automation.com/

- **Шаги**:
  1. Прокрутить страницу вниз до середины

- **Ожидаемый результат**: меню навигации остается видимым после прокрутки страницы вниз

- **Постусловие**: 
  1. Закрыть браузер

### Тест-кейс №03. Переход по меню навигации на страницу `Lifetime Membership`

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.way2automation.com/

- **Шаги**:
  1. Навести курсор на меню `All courses`
  2. Нажать на пункт `Lifetime membership` в выпадающем меню

- **Ожидаемый результат**: 
  1. URL страницы: https://www.way2automation.com/lifetime-membership-club/
  2. Заголовок страницы содержит текст `LIFETIME MEMBERSHIP CLUB`

- **Постусловие**:
  1. Закрыть браузер

### Тест-кейс №04. Авторизация на сайте с валидными данными

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.way2automation.com/angularjs-protractor/registeration/#/login

- **Шаги**:
  1. Ввести в поле `Username` валидное значение (`angular`)
  2. Ввести в поле `Password` валидное значение (`password`)
  3. Ввести в поле `Username *` валидное значение (`Igor`)
  4. Нажать кнопку `Login`

- **Ожидаемый результат**:
  1. Отображается сообщение об успешной авторизации `You're logged in!!`

- **Постусловие**:
  1. Нажать кнопку `Logout`
  2. Убедиться, что отображается форма авторизации
  3. Закрыть браузер

- **Тестовые данные**:
  1. `Username` — `angular`
  2. `Password` — `password`
  3. `Username *` — `Igor`

### Тест-кейс №05. Регистрация в `Sample Form` с пропущенным полем `Gender`

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.way2automation.com/angularjs-protractor/banking/#/login

- **Шаги**:
  1. Нажать на кнопку `Sample Form`
  2. В поля `First Name` ввести валидное значение (`Tony`)
  3. В поле `Last Name` ввести валидное значение (`Stark`)
  4. В поле `Email` ввести валидное значение (`tony@stark.com`)
  5. В поле `Password` ввести валидное значение (`password123`)
  6. В пункте `Hobbies` выбрать `Sports`
  7. В поле `About Yourself` ввести текст по следующей логике:
     - Текст: `Самое длинное слово из предложенных хобби — [N]`
     - N — самое длинное слово из пункта `Hobbies`
  8. Нажать на кнопку `Register`

- **Ожидаемый результат**: 
  1. Отображается сообщение об ошибке: `All fields must be filled!`

- **Постусловие**: 
  1. Закрыть браузер

- **Тестовые данные**:
  1. `First Name` — `Tony`
  2. `Last Name` — `Stark`
  3. `Email` — `tony@stark.com`
  4. `Password` — `password123`
  5. `Hobby` — `Sports`

---

## U3. Параметризованные тест-кейсы

### Тест-кейс №06. Параметризованная авторизация на сайте

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.way2automation.com/angularjs-protractor/registeration/#/login

- **Шаги**:
  1. Ввести в поле `Username` тестовое значение
  2. Ввести в поле `Password` тестовое значение
  3. Ввести в поле `Username *` тестовое значение
  4. Нажать кнопку `Login`

- **Ожидаемый результат**:
  1. При валидных данных: отображается сообщение об успешной авторизации `You're logged in!!`
  2. При невалидных данных: отображается сообщение об ошибке `Username or password is incorrect`
  3. При пустых полях: кнопка `Login` неактивна

- **Постусловие**:
  1. В случае успешной авторизации нажать кнопку `Logout`
  2. Закрыть браузер

- **Тестовые данные**:
  1. Валидные данные:
     - `Username` — `angular`
     - `Password` — `password`
     - `Username *` — `Hero`

  2. Невалидные данные (неверный логин):
     - `Username` — `invalid`
     - `Password` — `password`
     - `Username *` — `Hero`

  3. Невалидные данные (неверный пароль):
     - `Username` — `angular`
     - `Password` — `invalid`
     - `Username *` — `Hero`

  4. Пустой логин:
     - `Username` — ` `
     - `Password` — `password`
     - `Username *` — `Hero`

  5. Пустой пароль:
     - `Username` — `angular`
     - `Password` — ` `
     - `Username *` — `Hero`

  6. Пробелы в логине и пароле:
     - `Username` — `   `
     - `Password` — `   `
     - `Username *` — `Hero`

---

## U4. Специально падающие тест-кейсы

### Тест-кейс №07. Падающий тест авторизации с пустым `Username *`

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.way2automation.com/angularjs-protractor/registeration/#/login

- **Шаги**:
  1. Ввести в поле `Username` валидное значение (`angular`)
  2. Ввести в поле `Password` валидное значение (`password`)
  3. В поле `Username *` ничего не вводить
  4. Нажать кнопку `Login`

- **Ожидаемый результат**:
  1. Отображается сообщение об ошибке авторизации `Username or password is incorrect`

- **Постусловие**:
  1. Закрыть браузер

- **Тестовые данные**:
  1. `Username` — `angular`
  2. `Password` — `password`

### Тест-кейс №08. Падающий тест авторизации с отсутствующим элементом страницы

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.way2automation.com/angularjs-protractor/registeration/#/login

- **Шаги**:
  1. Ввести в поле `Username` валидное значение (`angular`)
  2. Ввести в поле `Password` валидное значение (`password`)
  3. Ввести в поле `Username *` валидное значение (`Igor`)
  4. Нажать кнопку `Login`

- **Ожидаемый результат**:
  1. Отображается сообщение об ошибки авторизации `Username or password is incorrect`

- **Постусловие**:
  1. Нажать кнопку `Logout`
  2. Закрыть браузер

- **Тестовые данные**:
  1. `Username` — `angular`
  2. `Password` — `password`
  3. `Username *` — `Igor`

---

## U5. Тест-кейс для демонстрации работы с Cookies

### Тест-кейс №08. Авторизация на сайте, использующая Cookies

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.sql-ex.ru/
  3. Зарегистрироваться на сайте

- **Шаги**:
  - **Первый запуск**:
    1. Ввести в поле `Логин` валидное значение (см. `Тестовые данные`)
    2. Ввести в поле `Пароль` валидное значение (см. `Тестовые данные`)
    3. Нажать кнопку `Вход`
    4. Записать `Cookies` в файл
    5. Нажать на иконку `замка` в правом верхнем углу (`Выход`)

  - **Второй запуск**:
    1. Загрузить `Cookies` из файла
    2. Обновить страницу

- **Ожидаемый результат**:
  1. Успешная авторизация в обоих случаях (отображается аккаунт справа сверху)

- **Постусловие**:
  1. Нажать на иконку `замка` в правом верхнем углу (`Выход`)
  2. Закрыть браузер

- **Тестовые данные**:
  1. `Логин` — `ваш_логин_указанный_при_регистрации`
  2. `Пароль` — `ваш_пароль_указанный_при_регистрации`
  3. `Файл Cookies` — `cookies/auth_cookies.json`

---

## U6. Тест-кейс для демонстрации работы JavaScriptExecutor

### Тест-кейс №09. Проверка работы JavaScriptExecutor

- **Предусловие**:
  1. Открыть браузер
  2. Перейти по ссылке: https://www.sql-ex.ru/

- **Шаги**:
  1. Ввести в поле `Логин` произвольное значение (`automation`)
  2. Убрать фокус с поля ввода
  3. Определить наличие вертикального скролла на странице
  4. Прокрутить страницу вниз

- **Ожидаемый результат**:
  1. Фокус убран с поля ввода и страница прокручена вниз

- **Постусловие**:
  1. Закрыть браузер

- **Тестовые данные**:
  1. `Логин` — `automation`
